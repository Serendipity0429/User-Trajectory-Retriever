{% extends "base.html" %}
{% load static %}

{% block title %}{% block benchmark_title %}Benchmark{% endblock benchmark_title %} - User Trajectory Platform{% endblock title %}

{% block css %}
    <link href="{% static 'css/benchmark.css' %}" rel="stylesheet">
{% endblock css %}

{% block content %}
    <main class="container-fluid my-4">
        {% block benchmark_content %}{% endblock benchmark_content %}
    </main>
{% endblock content %}

{% block modal_container %}
    <!-- Generic Modal for Benchmark (Prompts, Reasoning, etc.) -->
    <div class="modal fade" id="benchmarkGenericModal" tabindex="-1" aria-labelledby="benchmarkGenericModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="benchmarkGenericModalLabel">Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="modal-generic-content-container">
                        <!-- Content injected via JS -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    {% include "includes/js_templates.html" %}
{% endblock modal_container %}

{% block scripts %}
    <!-- Config modules -->
    <script src="{% static 'js/benchmark/config/urls.js' %}"></script>
    <script src="{% static 'js/benchmark/config/state.js' %}"></script>
    <script src="{% static 'js/benchmark/config/pipeline-config.js' %}"></script>
    <script src="{% static 'js/benchmark/config/settings-config.js' %}"></script>
    <script src="{% static 'js/benchmark/config/index.js' %}"></script>

    <!-- Utility modules -->
    <script src="{% static 'js/benchmark/utils/helpers.js' %}"></script>
    <script src="{% static 'js/benchmark/utils/api.js' %}"></script>
    <script src="{% static 'js/benchmark/utils/settings.js' %}"></script>
    <script src="{% static 'js/benchmark/utils/batch_selection.js' %}"></script>
    <script src="{% static 'js/benchmark/utils/session_ui.js' %}"></script>
    <script src="{% static 'js/benchmark/utils/pipeline_runner.js' %}"></script>
    <script src="{% static 'js/benchmark/utils/leaderboard.js' %}"></script>

    <!-- UI modules -->
    <script src="{% static 'js/benchmark/ui/init.js' %}"></script>
    <script src="{% static 'js/benchmark/ui/components.js' %}"></script>
    <script src="{% static 'js/benchmark/ui/ground-truths.js' %}"></script>
    <script src="{% static 'js/benchmark/ui/search-results.js' %}"></script>
    <script src="{% static 'js/benchmark/ui/message-bubble.js' %}"></script>
    <script src="{% static 'js/benchmark/ui/tool-cards.js' %}"></script>
    <script src="{% static 'js/benchmark/ui/agent-steps.js' %}"></script>
    <script src="{% static 'js/benchmark/ui/verdict-cards.js' %}"></script>

    <!-- Main modules -->
    <script src="{% static 'js/benchmark/core.js' %}"></script>
    <script src="{% static 'js/benchmark/renderer.js' %}"></script>
    <script src="{% static 'js/benchmark/multiturn.js' %}"></script>
    {% block benchmark_extra_js %}{% endblock benchmark_extra_js %}
{% endblock scripts %}