{% extends 'base.html' %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-lg border-0 rounded-lg mt-5">
                <div class="card-header text-center py-4 bg-primary text-white">
                    <h3 class="fw-light my-2">Informed Consent Form</h3>
                </div>
                <div class="card-body p-5">
                    <p class="lead">
                        Please read the following information carefully before deciding whether to participate in this research study.
                    </p>
                    
                    <div class="consent-text bg-light p-4 rounded mb-4" style="max-height: 300px; overflow-y: auto;">
                        <p><strong>[This is a placeholder for your informed consent form text. Please replace it with your actual content.]</strong></p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>

                    <p class="text-center">
                        By clicking "I Agree" below, you acknowledge that you have read and understood the information above and voluntarily agree to participate in this research study.
                    </p>

                    <form method="post">
                        {% csrf_token %}
                        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                            <button type="submit" name="agree" id="agreeButton" class="btn btn-primary btn-lg" disabled>I Agree (5s)</button>
                            <a href="{% url 'user_system:login' %}" class="btn btn-secondary btn-lg">I Do Not Agree</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    let countdown = 5;
    const agreeButton = document.getElementById('agreeButton');

    const interval = setInterval(() => {
        countdown--;
        if (countdown > 0) {
            agreeButton.textContent = `I Agree (${countdown}s)`;
        } else {
            clearInterval(interval);
            agreeButton.textContent = 'I Agree';
            agreeButton.disabled = false;
        }
    }, 1000);
});
</script>
{% endblock %}
